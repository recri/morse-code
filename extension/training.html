<!DOCTYPE html>
<html>
  <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Morse Code Training</title>
        <meta name="description" content="morse code training application">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
  </head>
  <body onload="onLoadHandler()">
    <style>
      .page {
	margin-left: auto;
	margin-right: auto;
        text-align: center;
      }
      button {
        margin: 10px;
      }
      .button {
        height: 80px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        border-radius: 10px;
      }
      .button.double {
        width: 160px;
      }
      .button.single {
        width: 80px;
      }
    </style>
    <div class="page" id="page">
      <h1>Morse Code Training</h1>
      <div id="training_controls">
 	<button onclick="progress.onnext()">Next</button>
	<button onclick="progress.onagain()">Again</button>
	<br/>
	<button onclick="progress.onstart()">Start</button>
	<button onclick="progress.onrestart()">Restart</button>
	<button onclick="progress.onstop()">Stop</button>
	<br/>
	<button onclick="progress.onslower()">Slower</button>
	<span id="speed">15</span>WPM
	<button onclick="progress.onfaster()">Faster</button>
      </div>
      <div id="key_buttons"></div>
      <p>
	Practice morse code by imitating the code sent by your computer.
      </p><p>
	Your CTRL and ALT keys should act as dit and dah paddles.
	Pressing one will send a string of dits,
	pressing the other will send a string of dahs,
	and pressing both will send a string of di-dahs or dah-dits.
      </p>
  </body>
    <script type="text/javascript" src="js/morse.js"></script>
    <script type="text/javascript" src="js/words.js"></script>
    <script type="text/javascript" src="js/progress.js"></script>
    <script type="text/javascript">
      var station, progress;

      function onLoadHandler() {

        station = morse_code_station();

	station.input.setPitch(550);
        station.input.setGain(0.05);
        station.input.setWPM(15);
        station.input.setOnTime(0.004);
        station.input.setOffTime(0.004);

	station.output.setPitch(600);
        station.output.setGain(0.05);
        station.output.setWPM(15);
        station.output.setOnTime(0.004);
        station.output.setOffTime(0.004);
        
        station.key_type_select('iambic');
        station.input.setSwapped(true);

        station.input.iambic.onfocus();

        progress = study_progress(word_list_comb(station.table), station);
        // progress.focus();

        // keydown/keyup events on html element
        morse_code_keyboard_input(station);

        // touch/mouse events on key buttons
        morse_code_touch_input('key_buttons', station);
      }
    </script>
</html>


